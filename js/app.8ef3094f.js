(function(){"use strict";var t={95:function(t,e,s){var o=s(144),i=function(){var t=this,e=t._self._c;return e("v-app",{attrs:{id:"app"}},[e("router-view")],1)},n=[],a=s(1),r={},c=(0,a.Z)(r,i,n,!1,null,null,null),l=c.exports,d=s(154),p=s(726),u=s(816),h=s(584),f=s(255),g=s(514),v=s(17),y=s(704);o.ZP.use(d.Z,{components:{VApp:p.Z,VCard:u.Z,VImg:h.Z,VCardTitle:f.EB,VCardSubtitle:f.Qq,VCardText:f.ZB,VCardActions:f.h7,VBtn:g.Z,VPagination:v.Z,VTextarea:y.Z}});var P=new d.Z,m=s(345),b=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("div",{staticClass:"card-wrapper"},t._l(t.historyList,(function(s){return e("Post",{key:s.id,attrs:{post:s},on:{editPost:t.doEditPost,deletePost:t.doDeletePost}})})),1),e("v-pagination",{attrs:{length:t.pages},on:{input:t.updatePage},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)},x=[],_=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-class"},[e("v-card",{staticClass:"mx-auto",attrs:{"max-width":"400"}},[e("v-img",{staticClass:"red--text align-end",attrs:{height:"200px",src:"https://cdn.pixabay.com/photo/2015/10/07/12/17/post-976115_1280.png"}}),e("v-card-subtitle",{staticClass:"pb-0"},[t._v(" "+t._s(t.post.title)+" ")]),e("v-card-text",{staticClass:"text--primary"},[e("v-textarea",{attrs:{readonly:t.flag},model:{value:t.bodyText,callback:function(e){t.bodyText=e},expression:"bodyText"}})],1),e("v-card-title",[t._v("Post id: "+t._s(t.post.id))]),e("v-card-actions",[e("v-btn",{attrs:{color:"orange",text:""},on:{click:t.editPost}},[t._v(" "+t._s(t.editBtnValue)+" ")]),e("v-btn",{attrs:{color:"red",text:""},on:{click:t.deletePost}},[t._v(" Видалити ")])],1)],1)],1)},w=[],C={name:"Post",props:{post:Object},data(){return{bodyText:this.post.body,postId:this.post.id,flag:!0}},computed:{editBtnValue(){return this.flag?"Замінити":"Зберегти"}},methods:{editPost:function(){this.flag?this.flag=!this.flag:(this.flag=!this.flag,this.$emit("editPost",[this.bodyText,this.postId]))},deletePost:function(){this.$emit("deletePost",this.postId)}}},S=C,T=(0,a.Z)(S,_,w,!1,null,null,null),Z=T.exports,O=s(629),D={name:"Home",components:{Post:Z},data(){return{listCount:0,historyList:[],page:1,pageSize:6}},computed:{...(0,O.Se)("appModule",["postsData"]),pages(){return null==this.pageSize||null==this.listCount?0:Math.ceil(this.listCount/this.pageSize)}},async mounted(){await this.fetchData(),this.initPage(),this.updatePage(this.page)},watch:{postsData:function(){this.initPage()}},methods:{...(0,O.nv)("appModule",["deletePost","loadPostsData","editPostBody"]),async fetchData(){await this["loadPostsData"]()},initPage:function(){this.listCount=this["postsData"].length,this.listCount<this.pageSize?this.historyList=this["postsData"]:this.historyList=this["postsData"].slice(0,this.pageSize)},updatePage:function(t){let e=(t-1)*this.pageSize,s=t*this.pageSize;this.historyList=this["postsData"].slice(e,s),this.page=t},async doDeletePost(t){await this["deletePost"](t),this.page=1},async doEditPost([t,e]){await this["editPostBody"]([t,e])}}},j=D,V=(0,a.Z)(j,b,x,!1,null,"feffde9e",null),E=V.exports;o.ZP.use(m.ZP);const k=[{path:"/",name:"Home",component:E}],B=new m.ZP({mode:"history",base:"/test-frontend/",routes:k});var z=B;const A="SAVE_POSTS_DATA",L="DELETE_POST",M="CHANGE_POST_BODY";async function $(){let t=await fetch("https://jsonplaceholder.typicode.com/posts").then((t=>t.json())).then((t=>t));return t}async function H(t){return await fetch(`https://jsonplaceholder.typicode.com/posts/${t}`,{method:"DELETE"}),t}async function I(t,e){let s=await fetch(`https://jsonplaceholder.typicode.com/posts/${e}`,{method:"PATCH",body:JSON.stringify({body:t}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((t=>t.json())).then((t=>t));return s}const F={namespaced:!0,state:{posts:[]},getters:{postsData:t=>t.posts},actions:{loadPostsData({commit:t}){$().then((e=>t(A,e)))},deletePost({commit:t},e){H(e).then((e=>t(L,e)))},editPostBody({commit:t},e){I(e[0],e[1]).then((e=>t(M,e)))}},mutations:{[A]:(t,e)=>{t.posts=e},[L]:(t,e)=>{t.posts=t.posts.filter((t=>t.id!==e))},[M]:(t,e)=>{const s=t.posts.find((t=>t.id===e.id));s.text=e.body}}};o.ZP.use(O.ZP);var N=new O.ZP.Store({modules:{appModule:F}});o.ZP.config.productionTip=!1,new o.ZP({vuetify:P,router:z,store:N,render:t=>t(l)}).$mount("#app")}},e={};function s(o){var i=e[o];if(void 0!==i)return i.exports;var n=e[o]={exports:{}};return t[o](n,n.exports,s),n.exports}s.m=t,function(){var t=[];s.O=function(e,o,i,n){if(!o){var a=1/0;for(d=0;d<t.length;d++){o=t[d][0],i=t[d][1],n=t[d][2];for(var r=!0,c=0;c<o.length;c++)(!1&n||a>=n)&&Object.keys(s.O).every((function(t){return s.O[t](o[c])}))?o.splice(c--,1):(r=!1,n<a&&(a=n));if(r){t.splice(d--,1);var l=i();void 0!==l&&(e=l)}}return e}n=n||0;for(var d=t.length;d>0&&t[d-1][2]>n;d--)t[d]=t[d-1];t[d]=[o,i,n]}}(),function(){s.d=function(t,e){for(var o in e)s.o(e,o)&&!s.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,o){var i,n,a=o[0],r=o[1],c=o[2],l=0;if(a.some((function(e){return 0!==t[e]}))){for(i in r)s.o(r,i)&&(s.m[i]=r[i]);if(c)var d=c(s)}for(e&&e(o);l<a.length;l++)n=a[l],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(d)},o=self["webpackChunktest_frontend"]=self["webpackChunktest_frontend"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=s.O(void 0,[998],(function(){return s(95)}));o=s.O(o)})();
//# sourceMappingURL=app.8ef3094f.js.map